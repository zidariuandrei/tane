@import "tailwindcss";

@theme {
  --font-caveat: "Caveat", cursive;
  --font-crimson: "Crimson Text", serif;
  --font-roboto: "Roboto", sans-serif;
  --font-mono: "Space Mono", monospace;
  --font-merriweather: "Merriweather", serif;

  /* Aliases to allow dynamic switching via CSS vars */
  --font-handwritten: var(--font-primary-heading);
  --font-serif: var(--font-primary-body);
}

@layer base {
  /* ========================================= */
  /* THEME: EVERFOREST (Default)               */
  /* ========================================= */
  :root, [data-theme="everforest"] {
    --font-primary-heading: "Caveat", cursive;
    --font-primary-body: "Crimson Text", serif;

    /* Light Mode */
    --color-paper-dark: #fdf6e3;        /* Main BG (Light) */
    --color-paper-warm-dark: #efebd4;   /* Card BG (Light) */
    --color-ink-light: #5c6a72;         /* Text (Light) */
    
    --color-sage-fresh: #8da101;        /* Green */
    --color-sage-dried: #3a94c5;        /* Blue/Teal in light mode */
    --color-sepia-light: #dfa000;       /* Yellow */
    --color-bark-brown: #f57d26;        /* Orange */
    --color-terracotta: #f85552;        /* Red */
    --color-sprouting: #8da101;
    --color-planted: #dfa000;
    
    /* Shadows/Extras */
    --color-paper-shadow: #d3c6aa;
  }

  :root.dark, [data-theme="everforest"].dark {
    /* Dark Mode (The "Herbarium" Look) */
    --color-paper-dark: #2d353b;        /* Main BG */
    --color-paper-warm-dark: #343f44;   /* Card BG */
    --color-ink-light: #d3c6aa;         /* Text */

    --color-sage-fresh: #a7c080;
    --color-sage-dried: #83c092;
    --color-sepia-light: #dbbc7f;
    --color-bark-brown: #e69875;
    --color-terracotta: #e67e80;
    --color-sprouting: #a7c080;
    --color-planted: #dbbc7f;
  }

  /* ========================================= */
  /* THEME: GRUVBOX                            */
  /* ========================================= */
  [data-theme="gruvbox"] {
    --font-primary-heading: "Space Mono", monospace;
    --font-primary-body: "Merriweather", serif;

    /* Light Mode */
    --color-paper-dark: #fbf1c7;
    --color-paper-warm-dark: #ebdbb2;
    --color-ink-light: #3c3836;

    --color-sage-fresh: #98971a;
    --color-sage-dried: #458588;
    --color-sepia-light: #d79921;
    --color-bark-brown: #d65d0e;
    --color-terracotta: #cc241d;
    --color-sprouting: #98971a;
    --color-planted: #d79921;
  }

  [data-theme="gruvbox"].dark {
    /* Dark Mode */
    --color-paper-dark: #282828;        /* Hard Dark */
    --color-paper-warm-dark: #3c3836;   /* Soft Dark */
    --color-ink-light: #ebdbb2;         /* Light Text */

    --color-sage-fresh: #b8bb26;        /* Bright Green */
    --color-sage-dried: #8ec07c;        /* Aqua */
    --color-sepia-light: #fabd2f;       /* Yellow */
    --color-bark-brown: #fe8019;        /* Orange */
    --color-terracotta: #fb4934;        /* Red */
    --color-sprouting: #b8bb26;
    --color-planted: #fabd2f;
  }

  /* ========================================= */
  /* THEME: MINIMALIST (Shadcn-ish)            */
  /* ========================================= */
  [data-theme="minimalist"] {
    --font-primary-heading: "Roboto", sans-serif;
    --font-primary-body: "Roboto", sans-serif;

    /* Light Mode */
    --color-paper-dark: #ffffff;
    --color-paper-warm-dark: #f4f4f5;   /* Zinc 100 */
    --color-ink-light: #09090b;         /* Zinc 950 */

    --color-sage-fresh: #10b981;        /* Emerald 500 */
    --color-sage-dried: #0ea5e9;        /* Sky 500 */
    --color-sepia-light: #f59e0b;       /* Amber 500 */
    --color-bark-brown: #f97316;        /* Orange 500 */
    --color-terracotta: #ef4444;        /* Red 500 */
    --color-sprouting: #10b981;
    --color-planted: #f59e0b;
  }

  [data-theme="minimalist"].dark {
    /* Dark Mode */
    --color-paper-dark: #09090b;        /* Zinc 950 */
    --color-paper-warm-dark: #18181b;   /* Zinc 900 */
    --color-ink-light: #fafafa;         /* Zinc 50 */

    --color-sage-fresh: #34d399;        /* Emerald 400 */
    --color-sage-dried: #38bdf8;        /* Sky 400 */
    --color-sepia-light: #fbbf24;       /* Amber 400 */
    --color-bark-brown: #fb923c;        /* Orange 400 */
    --color-terracotta: #f87171;        /* Red 400 */
    --color-sprouting: #34d399;
    --color-planted: #fbbf24;
  }

  /* Shared Mappings */
  :root {
    --paper-cream: var(--color-paper-dark);      /* Map legacy light var */
    --paper-warm: var(--color-paper-warm-dark);  /* Map legacy light var */
    
    /* Map all semantic names to the variables defined in themes */
    --ink-dark: var(--color-ink-light); /* In light mode, this is dark text. In dark mode, we swap in body. */
    
    --sage-fresh: var(--color-sage-fresh);
    --sage-dried: var(--color-sage-dried);
    --sepia-light: var(--color-sepia-light);
    --bark-brown: var(--color-bark-brown);
    --terracotta: var(--color-terracotta);
    
    --planted: var(--color-planted);
    --sprouting: var(--color-sprouting);
    --growing: var(--color-sage-dried); /* Mapped to dried/aqua */
    --tree: var(--color-bark-brown);
  }

  body {
    background-color: var(--color-paper-dark);
    color: var(--color-ink-light);
    font-family: var(--font-primary-body);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  h1, h2, h3, h4, h5, h6, button, .font-heading {
    font-family: var(--font-primary-heading);
  }
  
  .font-serif {
    font-family: var(--font-primary-body);
  }
}

@layer components {
  /* Keep existing component styles */
  .paper-card {
    @apply bg-[var(--color-paper-warm-dark)] rounded-xl p-6 transition-transform hover:scale-[1.01] duration-300;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
}
